<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinylbe Database Explorer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2" />
                        <circle cx="16" cy="16" r="4" fill="currentColor" />
                        <circle cx="16" cy="16" r="8" stroke="currentColor" stroke-width="1" />
                    </svg>
                    <h1>Vinylbe</h1>
                </div>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <rect x="3" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" />
                        <rect x="11" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" />
                        <rect x="3" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" />
                        <rect x="11" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" />
                    </svg>
                    <span>Dashboard</span>
                </button>

                <button class="nav-item" data-view="artists">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M10 11C12.2091 11 14 9.20914 14 7C14 4.79086 12.2091 3 10 3C7.79086 3 6 4.79086 6 7C6 9.20914 7.79086 11 10 11Z"
                            stroke="currentColor" stroke-width="1.5" />
                        <path d="M3 17C3 14.2386 5.23858 12 8 12H12C14.7614 12 17 14.2386 17 17" stroke="currentColor"
                            stroke-width="1.5" />
                    </svg>
                    <span>Artistas</span>
                </button>

                <button class="nav-item" data-view="albums">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5" />
                        <circle cx="10" cy="10" r="2" fill="currentColor" />
                    </svg>
                    <span>Álbumes</span>
                </button>

                <button class="nav-item" data-view="users">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M7 9C8.65685 9 10 7.65685 10 6C10 4.34315 8.65685 3 7 3C5.34315 3 4 4.34315 4 6C4 7.65685 5.34315 9 7 9Z"
                            stroke="currentColor" stroke-width="1.5" />
                        <path d="M2 17C2 14.7909 3.79086 13 6 13H8C10.2091 13 12 14.7909 12 17" stroke="currentColor"
                            stroke-width="1.5" />
                        <path d="M13 3C14.1046 3 15 3.89543 15 5C15 6.10457 14.1046 7 13 7" stroke="currentColor"
                            stroke-width="1.5" />
                        <path d="M18 17C18 15.3431 16.6569 14 15 14H14" stroke="currentColor" stroke-width="1.5" />
                    </svg>
                    <span>Usuarios</span>
                </button>

                <button class="nav-item" data-view="stats">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 14L7 10L11 14L17 8" stroke="currentColor" stroke-width="1.5"
                            stroke-linecap="round" />
                        <path d="M14 8H17V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    </svg>
                    <span>Estadísticas</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="db-info">
                    <div class="db-status">
                        <div class="status-dot"></div>
                        <span>Conectado</span>
                    </div>
                    <div class="db-path">vinylbe.db</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="search-bar">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="1.5" />
                        <path d="M13 13L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    </svg>
                    <input type="text" id="globalSearch" placeholder="Buscar artistas, álbumes...">
                </div>

                <div class="header-actions">
                    <button class="btn-icon" id="refreshBtn" title="Actualizar">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path
                                d="M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C11.7244 3 13.2988 3.62428 14.5355 4.66421"
                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M14 2V5H11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Views Container -->
            <div class="content-container">
                <!-- Dashboard View -->
                <div id="dashboardView" class="view active">
                    <div class="view-header">
                        <h2>Dashboard</h2>
                        <p class="subtitle">Resumen de tu colección musical</p>
                    </div>

                    <div class="stats-grid" id="statsGrid">
                        <!-- Stats cards will be inserted here -->
                    </div>

                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3>Top Artistas</h3>
                                <span class="badge">Por álbumes</span>
                            </div>
                            <div id="topArtists" class="list-container">
                                <!-- Top artists will be inserted here -->
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3>Mejor Valorados</h3>
                                <span class="badge">Por rating</span>
                            </div>
                            <div id="topAlbums" class="list-container">
                                <!-- Top albums will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Artists View -->
                <div id="artistsView" class="view">
                    <div class="view-header">
                        <div>
                            <h2>Artistas</h2>
                            <p class="subtitle">Explora tu colección de artistas</p>
                        </div>
                        <div class="view-actions">
                            <input type="text" id="artistSearch" class="search-input" placeholder="Buscar artistas...">
                        </div>
                    </div>

                    <div id="artistsGrid" class="grid">
                        <!-- Artists will be inserted here -->
                    </div>

                    <div id="artistsPagination" class="pagination">
                        <!-- Pagination will be inserted here -->
                    </div>
                </div>

                <!-- Albums View -->
                <div id="albumsView" class="view">
                    <div class="view-header">
                        <div>
                            <h2>Álbumes</h2>
                            <p class="subtitle">Explora tu colección de álbumes</p>
                        </div>
                        <div class="view-actions">
                            <input type="text" id="albumSearch" class="search-input" placeholder="Buscar álbumes...">
                        </div>
                    </div>

                    <div id="albumsGrid" class="grid">
                        <!-- Albums will be inserted here -->
                    </div>

                    <div id="albumsPagination" class="pagination">
                        <!-- Pagination will be inserted here -->
                    </div>
                </div>

                <!-- Users View -->
                <div id="usersView" class="view">
                    <div class="view-header">
                        <h2>Usuarios</h2>
                        <p class="subtitle">Gestiona los usuarios del sistema</p>
                    </div>

                    <div id="usersTable" class="table-container">
                        <!-- Users table will be inserted here -->
                    </div>
                </div>

                <!-- Stats View -->
                <div id="statsView" class="view">
                    <div class="view-header">
                        <h2>Estadísticas</h2>
                        <p class="subtitle">Análisis de tu colección</p>
                    </div>

                    <div class="stats-charts">
                        <div class="card">
                            <div class="card-header">
                                <h3>Álbumes por Década</h3>
                            </div>
                            <div id="decadeChart" class="chart-container">
                                <!-- Chart will be inserted here -->
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3>Distribución de Ratings</h3>
                            </div>
                            <div id="ratingChart" class="chart-container">
                                <!-- Chart will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Artist Detail Modal -->
    <div id="artistModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="artistModalTitle">Artist Details</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="artistModalBody">
                <!-- Artist details will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>